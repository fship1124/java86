package day05.quiz;

import java.util.Scanner;
public class ArrayWriteTest {
	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		
		int [] arr = new int[3];
		
		
		int pos = 0; //배열에 입력될 인덱스 위치 + 입력된 요소의 개수 - 등록할때 어느 위치에 들어갈지 임시저장해줘야함
		outer :
		while (true) {
			System.out.println("번호 입력 : ");
			int no = Integer.parseInt(sc.nextLine());
			
			/*//(배열의 내용을 동적으로 확장하는것)
			 * 1. 배열을 입력하기 전에 배열에 모든 요소가 채워져 있는지 확인
			 * 2. 만약, 모든 요소가 채워져 있으면 새로운 배열을 생성
			 *    생성규칙 : 기존 배열의 크기 * 2
			 * 3. 기존 배열의 내용을 새로운 배열로 복사시킨다.  
			 * 4. 기존 배열의 주소를 새롭게 생성된 배열의 주소로 변경한다 
			 */
			// story :배열이 더이상 들어갈 공간이 없으면 새로운 공간을 만들어서 크기가 얼마인지 정하여 기존데이터를 새롭게 생성된 배열로 복사 
			
			// 현재 배열의 모든 요소가 사용되고 있는가(꽉 차여 있어?) 1번
			if (pos == arr.length) {
				// 새로운 배열 생성(2번)
				int[] temp = new int[arr.length * 2];
				System.arraycopy(arr, 0, temp, 0, arr.length);   // 3번
				arr = temp;    // 바뀐 공간의 주소를 기존 공간의 주소에 대입(4번)
			}
			arr[pos++] = no;      // 배열의 위치값 증가
			System.out.println(pos + "개 입력 성공");
			
			System.out.print("계속 입력(종료 : n) : ");
			String isContinue = sc.nextLine();
			switch (isContinue) {
			case "n": case "N": 
				break outer;
			}
		}
		
		for (int i =0; i < pos; i++) {
			System.out.println(i + " : " + arr[i]);
		}
	}

}
